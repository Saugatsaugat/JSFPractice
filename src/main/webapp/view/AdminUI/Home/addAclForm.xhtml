<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <p:panelGrid columns="2">
        <p:outputLabel value="Select UserType"/>
        <p:selectOneMenu converter="userconverter" value="#{aclController.user}">
            <f:selectItem itemLabel="Select one" itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{aclController.userList}" var="item" 
                           itemLabel="#{item.firstname} #{item.lastname}" itemValue="#{item}" >
            </f:selectItems>
            <p:ajax process="@this" />
        </p:selectOneMenu>

        <p:outputLabel value="Choose Resource"/>
        <p:selectOneMenu converter="resourceconverter" value="#{aclController.resource}">
            <f:selectItem itemLabel="Select one" itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{aclController.resourceList}" var="it" 
                           itemLabel="#{it.resourceName.label}" itemValue="#{it}" >
            </f:selectItems>
            <p:ajax process="@this"  />

        </p:selectOneMenu>

        <p:outputLabel value="Choose Action" />
        <p:selectOneMenu converter="actionconverter" value="#{aclController.action}">
            <f:selectItem itemLabel="Select one" itemValue="" noSelectionOption="true" />
            <f:selectItems value="#{aclController.actionList}" var="item" 
                           itemLabel="#{item.actionName.label}" itemValue="#{item}" >
            </f:selectItems>
            <p:ajax process="@this" />

        </p:selectOneMenu>

        <p:outputLabel value="Allow"/>
        <p:selectOneRadio  value="#{aclController.allow}">
            <f:selectItem itemLabel="Yes" itemValue="#{Boolean.TRUE}" />
            <f:selectItem itemLabel="No" itemValue="#{Boolean.FALSE}" />
        </p:selectOneRadio>
    </p:panelGrid>

    <p:commandButton value="Save" actionListener="#{aclController.saveAcl}" process="@this"
                     update="@form"/>
</ui:composition>
